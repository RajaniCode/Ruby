<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; Dart Sass for Rails, Fiber-aware connection pool and more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Hi, this is Greg and Robin, bringing you the latest news from the Rails world.Dart Sass for RailsAs Ruby Sass has been deprecated a long time ago and since Webpacker has been retired, a new gem that wraps the standalone executable version of the Dart version of Sass has been released and makes it easy to use Sass stylesheets with Rails 7.Add ActiveSupport::TestCase#stub_constAs some sort of syntax sugar, a new #stub_const method has been added to easily change the value of a constant for the duration of a block, silencing warnings. The implementation is not thread-safe if you have parallel testing enabled though.Improve error message using #associated with no reflectionUsing where.associated with a missing association used to raise a cryptic error message; this has now been improved with a much clearer message.Optimize Object#instance_valuesThe performance of as_json  have been improved by using Array#to_h instead of Hash::[] and freezing the strings so Hash#[] doesn’t have to dup them. Another patch has also been merged to reduce the number of allocations done calling this method.Improve ActiveModel::Name#human performanceOther performance improvements have been made on model name translation when a translation is missing. The trick here is pretty simple: caching. Another patch that improves performances on #human_attribute_name has been merged as well.Expand documentation on bi-directional associationsAs we are continuously learning, we might forget how it felt when we begun. This pull request improves documentation on bi-directional associations with some concrete examples that might be useful for new learners. Lovely!Make ActiveRecord::ConnectionPool Fiber-safeLast but not least, the Active Record connection pool is now fiber-safe. It now honors the value of your config.active_support.isolation_level to either rely on threads or fibers. This should give you better throughput on fiber-oriented servers like Falcon.Since last time, 38 people contributed to Rails. As usual, there’s too much changes to cover them but you can check out all of these here. Until next time!" />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="Dart Sass for Rails, Fiber-aware connection pool and more!" />
  <meta property="og:description" content="Hi, this is Greg and Robin, bringing you the latest news from the Rails world.Dart Sass for RailsAs Ruby Sass has been deprecated a long time ago and since Webpacker has been retired, a new gem that wraps the standalone executable version of the Dart version of Sass has been released and makes it easy to use Sass stylesheets with Rails 7.Add ActiveSupport::TestCase#stub_constAs some sort of syntax sugar, a new #stub_const method has been added to easily change the value of a constant for the duration of a block, silencing warnings. The implementation is not thread-safe if you have parallel testing enabled though.Improve error message using #associated with no reflectionUsing where.associated with a missing association used to raise a cryptic error message; this has now been improved with a much clearer message.Optimize Object#instance_valuesThe performance of as_json  have been improved by using Array#to_h instead of Hash::[] and freezing the strings so Hash#[] doesn’t have to dup them. Another patch has also been merged to reduce the number of allocations done calling this method.Improve ActiveModel::Name#human performanceOther performance improvements have been made on model name translation when a translation is missing. The trick here is pretty simple: caching. Another patch that improves performances on #human_attribute_name has been merged as well.Expand documentation on bi-directional associationsAs we are continuously learning, we might forget how it felt when we begun. This pull request improves documentation on bi-directional associations with some concrete examples that might be useful for new learners. Lovely!Make ActiveRecord::ConnectionPool Fiber-safeLast but not least, the Active Record connection pool is now fiber-safe. It now honors the value of your config.active_support.isolation_level to either rely on threads or fibers. This should give you better throughput on fiber-oriented servers like Falcon.Since last time, 38 people contributed to Rails. As usual, there’s too much changes to cover them but you can check out all of these here. Until next time!" />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2022/2/5/this-week-in-rails-dart-sass-for-rails-fiber-aware-connection-pool-and-more-51b0bf31" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="Dart Sass for Rails, Fiber-aware connection pool and more!" />
  <meta name="twitter:description" content="Hi, this is Greg and Robin, bringing you the latest news from the Rails world.Dart Sass for RailsAs Ruby Sass has been deprecated a long time ago and since Webpacker has been retired, a new gem that wraps the standalone executable version of the Dart version of Sass has been released and makes it easy to use Sass stylesheets with Rails 7.Add ActiveSupport::TestCase#stub_constAs some sort of syntax sugar, a new #stub_const method has been added to easily change the value of a constant for the duration of a block, silencing warnings. The implementation is not thread-safe if you have parallel testing enabled though.Improve error message using #associated with no reflectionUsing where.associated with a missing association used to raise a cryptic error message; this has now been improved with a much clearer message.Optimize Object#instance_valuesThe performance of as_json  have been improved by using Array#to_h instead of Hash::[] and freezing the strings so Hash#[] doesn’t have to dup them. Another patch has also been merged to reduce the number of allocations done calling this method.Improve ActiveModel::Name#human performanceOther performance improvements have been made on model name translation when a translation is missing. The trick here is pretty simple: caching. Another patch that improves performances on #human_attribute_name has been merged as well.Expand documentation on bi-directional associationsAs we are continuously learning, we might forget how it felt when we begun. This pull request improves documentation on bi-directional associations with some concrete examples that might be useful for new learners. Lovely!Make ActiveRecord::ConnectionPool Fiber-safeLast but not least, the Active Record connection pool is now fiber-safe. It now honors the value of your config.active_support.isolation_level to either rely on threads or fibers. This should give you better throughput on fiber-oriented servers like Falcon.Since last time, 38 people contributed to Rails. As usual, there’s too much changes to cover them but you can check out all of these here. Until next time!" />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2022/2/5/this-week-in-rails-dart-sass-for-rails-fiber-aware-connection-pool-and-more-51b0bf31"
      },
      "name": "Ruby on Rails",
      "headline": "Dart Sass for Rails, Fiber-aware connection pool and more!",
      "description": "Hi, this is Greg and Robin, bringing you the latest news from the Rails world.Dart Sass for RailsAs Ruby Sass has been deprecated a long time ago and since Webpacker has been retired, a new gem that wraps the standalone executable version of the Dart version of Sass has been released and makes it easy to use Sass stylesheets with Rails 7.Add ActiveSupport::TestCase#stub_constAs some sort of syntax sugar, a new #stub_const method has been added to easily change the value of a constant for the duration of a block, silencing warnings. The implementation is not thread-safe if you have parallel testing enabled though.Improve error message using #associated with no reflectionUsing where.associated with a missing association used to raise a cryptic error message; this has now been improved with a much clearer message.Optimize Object#instance_valuesThe performance of as_json  have been improved by using Array#to_h instead of Hash::[] and freezing the strings so Hash#[] doesn’t have to dup them. Another patch has also been merged to reduce the number of allocations done calling this method.Improve ActiveModel::Name#human performanceOther performance improvements have been made on model name translation when a translation is missing. The trick here is pretty simple: caching. Another patch that improves performances on #human_attribute_name has been merged as well.Expand documentation on bi-directional associationsAs we are continuously learning, we might forget how it felt when we begun. This pull request improves documentation on bi-directional associations with some concrete examples that might be useful for new learners. Lovely!Make ActiveRecord::ConnectionPool Fiber-safeLast but not least, the Active Record connection pool is now fiber-safe. It now honors the value of your config.active_support.isolation_level to either rely on threads or fibers. This should give you better throughput on fiber-oriented servers like Falcon.Since last time, 38 people contributed to Rails. As usual, there’s too much changes to cover them but you can check out all of these here. Until next time!",
      "url": "http://localhost:4000/2022/2/5/this-week-in-rails-dart-sass-for-rails-fiber-aware-connection-pool-and-more-51b0bf31",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "robin850"
      },
      "datePublished": "2022-02-05T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Saturday, February 5, 2022</h5>
        <h2>Dart Sass for Rails, Fiber-aware connection pool and more!</h2>

        <h6>Posted by robin850</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Hi, this is Greg and Robin, bringing you the latest news from the Rails world.</p>

<p><a href="https://github.com/rails/dartsass-rails"><strong>Dart Sass for Rails</strong></a><br />
As Ruby Sass has been deprecated a long time ago and since Webpacker has been retired, a new gem that wraps the standalone executable version of the Dart version of Sass has been released and makes it easy to use Sass stylesheets with Rails 7.</p>

<p><a href="https://github.com/rails/rails/pull/44294"><strong>Add ActiveSupport::TestCase#stub_const</strong></a><br />
As some sort of syntax sugar, a new <em>#stub_const</em> method has been added to easily change the value of a constant for the duration of a block, silencing warnings. The implementation is not thread-safe if you have parallel testing enabled though.</p>

<p><a href="https://github.com/rails/rails/pull/44227"><strong>Improve error message using #associated with no reflection</strong></a><br />
Using <em>where.associated</em> with a missing association used to raise a cryptic error message; this has now been improved with a much clearer message.</p>

<p><a href="https://github.com/rails/rails/pull/44258"><strong>Optimize Object#instance_values</strong></a><br />
The performance of <em>as_json</em>  have been improved by using <em>Array#to_h</em> instead of <em>Hash::[]</em> and freezing the strings so <em>Hash#[]</em> doesn’t have to dup them. <a href="https://github.com/rails/rails/pull/44257">Another patch</a> has also been merged to reduce the number of allocations done calling this method.</p>

<p><a href="https://github.com/rails/rails/pull/44299"><strong>Improve ActiveModel::Name#human performance</strong></a><br />
Other performance improvements have been made on model name translation when a translation is missing. The trick here is pretty simple: caching. <a href="https://github.com/rails/rails/pull/44300">Another patch</a> that improves performances on <em>#human_attribute_name</em> has been merged as well.</p>

<p><a href="https://github.com/rails/rails/pull/44222"><strong>Expand documentation on bi-directional associations</strong></a><br />
As we are continuously learning, we might forget how it felt when we begun. This pull request improves documentation on bi-directional associations with some concrete examples that might be useful for new learners. Lovely!</p>

<p><a href="https://github.com/rails/rails/pull/44219"><strong>Make ActiveRecord::ConnectionPool Fiber-safe</strong></a><br />
Last but not least, the Active Record connection pool is now fiber-safe. It now honors the value of your <em>config.active_support.isolation_level</em> to either rely on threads or fibers. This should give you better throughput on fiber-oriented servers like Falcon.</p>

<p>Since last time, <a href="https://contributors.rubyonrails.org/contributors/in-time-window/20220121-20220205">38 people</a> contributed to Rails. As usual, there’s too much changes to cover them but you can check out all of these <a href="https://github.com/rails/rails/compare/main@%7B2022-01-21%7D...main@%7B2022-02-05%7D">here</a>. Until next time!</p>


      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
