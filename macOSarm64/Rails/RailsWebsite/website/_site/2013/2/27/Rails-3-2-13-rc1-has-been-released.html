<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; [ANN] Rails 3.2.13.rc1 has been released!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Hey everyone! I am pumped to announce that Rails 3.2.13.rc1 has been released!If no regressions are found I will release 3.2.13 final in two weeks, on March13, 2013. If you find one, please Open an Issue onGitHub so that I can fix it beforethe final release." />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="[ANN] Rails 3.2.13.rc1 has been released!" />
  <meta property="og:description" content="Hey everyone! I am pumped to announce that Rails 3.2.13.rc1 has been released!If no regressions are found I will release 3.2.13 final in two weeks, on March13, 2013. If you find one, please Open an Issue onGitHub so that I can fix it beforethe final release." />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2013/2/27/Rails-3-2-13-rc1-has-been-released" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="[ANN] Rails 3.2.13.rc1 has been released!" />
  <meta name="twitter:description" content="Hey everyone! I am pumped to announce that Rails 3.2.13.rc1 has been released!If no regressions are found I will release 3.2.13 final in two weeks, on March13, 2013. If you find one, please Open an Issue onGitHub so that I can fix it beforethe final release." />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2013/2/27/Rails-3-2-13-rc1-has-been-released"
      },
      "name": "Ruby on Rails",
      "headline": "[ANN] Rails 3.2.13.rc1 has been released!",
      "description": "Hey everyone! I am pumped to announce that Rails 3.2.13.rc1 has been released!If no regressions are found I will release 3.2.13 final in two weeks, on March13, 2013. If you find one, please Open an Issue onGitHub so that I can fix it beforethe final release.",
      "url": "http://localhost:4000/2013/2/27/Rails-3-2-13-rc1-has-been-released",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "steveklabnik"
      },
      "datePublished": "2013-02-27T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Wednesday, February 27, 2013</h5>
        <h2>[ANN] Rails 3.2.13.rc1 has been released!</h2>

        <h6>Posted by steveklabnik</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Hey everyone! I am pumped to announce that Rails 3.2.13.rc1 has been released!
If no regressions are found I will release 3.2.13 final in two weeks, on March
13, 2013. If you find one, please <a href="https://github.com/rails/rails/issues/new">Open an Issue on
GitHub</a> so that I can fix it before
the final release.</p>

<p>This is a bugfix release, with 287 commits. There is one big thing that is
technically a fix but is sort of a feature: Ruby 2.0 support. Big thanks to
Prem Sichanugrist for putting that together! Please give your applications a
try on Ruby 2.0 and let me know how that goes.</p>

<h2 id="changes-since-3212">CHANGES since 3.2.12</h2>

<p><em>Action Mailer</em></p>

<p>No changes.</p>

<p><em>Action Pack</em></p>

<ul>
  <li>
    <p>Determine the controller#action from only the matched path when using the
shorthand syntax. Previously the complete path was used, which led
to problems with nesting (scopes and namespaces).
Fixes #7554.
Backport #9361.</p>

    <p>Example:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># this will route to questions#new
scope ':locale' do
  get 'questions/new'
end
</code></pre></div>    </div>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Fix <code class="language-plaintext highlighter-rouge">assert_template</code> with <code class="language-plaintext highlighter-rouge">render :stream =&gt; true</code>.
Fix #1743.
Backport #5288.</p>

    <p><em>Sergey Nartimov</em></p>
  </li>
  <li>
    <p>Eagerly populate the http method loookup cache so local project inflections do
not interfere with use of underscore method ( and we don’t need locks )</p>

    <p><em>Aditya Sanghi</em></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">BestStandardsSupport</code> no longer duplicates <code class="language-plaintext highlighter-rouge">X-UA-Compatible</code> values on
each request to prevent header size from blowing up.</p>

    <p><em>Edward Anderson</em></p>
  </li>
  <li>
    <p>Fixed JSON params parsing regression for non-object JSON content.</p>

    <p><em>Dylan Smith</em></p>
  </li>
  <li>
    <p>Prevent unnecessary asset compilation when using <code class="language-plaintext highlighter-rouge">javascript_include_tag</code> on
files with non-standard extensions.</p>

    <p><em>Noah Silas</em></p>
  </li>
  <li>
    <p>Fixes issue where duplicate assets can be required with sprockets.</p>

    <p><em>Jeremy Jackson</em></p>
  </li>
  <li>
    <p>Bump <code class="language-plaintext highlighter-rouge">rack</code> dependency to 1.4.3, eliminate <code class="language-plaintext highlighter-rouge">Rack::File</code> headers deprecation warning.</p>

    <p><em>Sam Ruby + Carlos Antonio da Silva</em></p>
  </li>
  <li>
    <p>Do not append second slash to <code class="language-plaintext highlighter-rouge">root_url</code> when using <code class="language-plaintext highlighter-rouge">trailing_slash: true</code></p>

    <p>Fix #8700.
Backport #8701.</p>

    <p>Example:
    # before
    root_url # =&gt; http://test.host//</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># after
root_url # =&gt; http://test.host/
</code></pre></div>    </div>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Fix a bug in <code class="language-plaintext highlighter-rouge">content_tag_for</code> that prevents it for work without a block.</p>

    <p><em>Jasl</em></p>
  </li>
  <li>
    <p>Clear url helper methods when routes are reloaded by removing the methods
explicitly rather than just clearing the module because it didn’t work
properly and could be the source of a memory leak.</p>

    <p><em>Andrew White</em></p>
  </li>
  <li>
    <p>Fix a bug in <code class="language-plaintext highlighter-rouge">ActionDispatch::Request#raw_post</code> that caused <code class="language-plaintext highlighter-rouge">env['rack.input']</code>
to be read but not rewound.</p>

    <p><em>Matt Venables</em></p>
  </li>
  <li>
    <p>More descriptive error messages when calling <code class="language-plaintext highlighter-rouge">render :partial</code> with
an invalid <code class="language-plaintext highlighter-rouge">:layout</code> argument.</p>

    <p>Fixes #8376.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>render :partial =&gt; 'partial', :layout =&gt; true
# results in ActionView::MissingTemplate: Missing partial /true
</code></pre></div>    </div>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Accept symbols as <code class="language-plaintext highlighter-rouge">#send_data</code> :disposition value. [Backport #8329] <em>Elia Schito</em></p>
  </li>
  <li>
    <p>Add i18n scope to <code class="language-plaintext highlighter-rouge">distance_of_time_in_words</code>. [Backport #7997] <em>Steve Klabnik</em></p>
  </li>
  <li>
    <p>Fix side effect of <code class="language-plaintext highlighter-rouge">url_for</code> changing the <code class="language-plaintext highlighter-rouge">:controller</code> string option. [Backport #6003]
Before:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>controller = '/projects'
url_for :controller =&gt; controller, :action =&gt; 'status'

puts controller #=&gt; 'projects'
</code></pre></div>    </div>

    <p>After</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>puts controller #=&gt; '/projects'
</code></pre></div>    </div>

    <p><em>Nikita Beloglazov + Andrew White</em></p>
  </li>
  <li>
    <p>Introduce <code class="language-plaintext highlighter-rouge">ActionView::Template::Handlers::ERB.escape_whitelist</code>. This is a list
of mime types where template text is not html escaped by default. It prevents <code class="language-plaintext highlighter-rouge">Jack &amp; Joe</code>
from rendering as <code class="language-plaintext highlighter-rouge">Jack &amp;amp; Joe</code> for the whitelisted mime types. The default whitelist
contains text/plain. Fix #7976 [Backport #8235]</p>

    <p><em>Joost Baaij</em></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">BestStandardsSupport</code> middleware now appends it’s <code class="language-plaintext highlighter-rouge">X-UA-Compatible</code> value to app’s
returned value if any. Fix #8086 [Backport #8093]</p>

    <p><em>Nikita Afanasenko</em></p>
  </li>
  <li>
    <p>prevent double slashes in engine urls when <code class="language-plaintext highlighter-rouge">Rails.application.default_url_options[:trailing_slash] = true</code> is set
Fix #7842</p>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Fix input name when <code class="language-plaintext highlighter-rouge">:multiple =&gt; true</code> and <code class="language-plaintext highlighter-rouge">:index</code> are set.</p>

    <p>Before:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>check_box("post", "comment_ids", { :multiple =&gt; true, :index =&gt; "foo" }, 1)
#=&gt; &lt;input name=\"post[foo][comment_ids]\" type=\"hidden\" value=\"0\" /&gt;&lt;input id=\"post_foo_comment_ids_1\" name=\"post[foo][comment_ids]\" type=\"checkbox\" value=\"1\" /&gt;
</code></pre></div>    </div>

    <p>After:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>check_box("post", "comment_ids", { :multiple =&gt; true, :index =&gt; "foo" }, 1)
#=&gt; &lt;input name=\"post[foo][comment_ids][]\" type=\"hidden\" value=\"0\" /&gt;&lt;input id=\"post_foo_comment_ids_1\" name=\"post[foo][comment_ids][]\" type=\"checkbox\" value=\"1\" /&gt;
</code></pre></div>    </div>

    <p>Fix #8108</p>

    <p><em>Daniel Fox, Grant Hutchins &amp; Trace Wax</em></p>
  </li>
</ul>

<p><em>Active Model</em></p>

<ul>
  <li>Specify type of singular association during serialization <em>Steve Klabnik</em></li>
</ul>

<p><em>Active Record</em></p>

<ul>
  <li>
    <p>Reverted 921a296a3390192a71abeec6d9a035cc6d1865c8, ‘Quote numeric values
compared to string columns.’ This caused several regressions.</p>

    <p><em>Steve Klabnik</em></p>
  </li>
  <li>
    <p>Fix overriding of attributes by default_scope on <code class="language-plaintext highlighter-rouge">ActiveRecord::Base#dup</code>.</p>

    <p><em>Hiroshige UMINO</em></p>
  </li>
  <li>
    <p>Fix issue with overriding Active Record reader methods with a composed object
and using that attribute as the scope of a <code class="language-plaintext highlighter-rouge">uniqueness_of</code> validation.
Backport #7072.</p>

    <p><em>Peter Brown</em></p>
  </li>
  <li>
    <p>Sqlite now preserves custom primary keys when copying or altering tables.
Fixes #9367.
Backport #2312.</p>

    <p><em>Sean Scally + Yves Senn</em></p>
  </li>
  <li>
    <p>Preloading <code class="language-plaintext highlighter-rouge">has_many :through</code> associations with conditions won’t
cache the <code class="language-plaintext highlighter-rouge">:through</code> association. This will prevent invalid
subsets to be cached.
Fixes #8423.
Backport #9252.</p>

    <p>Example:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class User
  has_many :posts
  has_many :recent_comments, -&gt; { where('created_at &gt; ?', 1.week.ago) }, :through =&gt; :posts
end

a_user = User.includes(:recent_comments).first

# this is preloaded
a_user.recent_comments

# fetching the recent_comments through the posts association won't preload it.
a_user.posts
</code></pre></div>    </div>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Fix handling of dirty time zone aware attributes</p>

    <p>Previously, when <code class="language-plaintext highlighter-rouge">time_zone_aware_attributes</code> were enabled, after
changing a datetime or timestamp attribute and then changing it back
to the original value, <code class="language-plaintext highlighter-rouge">changed_attributes</code> still tracked the
attribute as changed. This caused <code class="language-plaintext highlighter-rouge">[attribute]_changed?</code> and
<code class="language-plaintext highlighter-rouge">changed?</code> methods to return true incorrectly.</p>

    <p>Example:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>in_time_zone 'Paris' do
  order = Order.new
  original_time = Time.local(2012, 10, 10)
  order.shipped_at = original_time
  order.save
  order.changed? # =&gt; false

  # changing value
  order.shipped_at = Time.local(2013, 1, 1)
  order.changed? # =&gt; true

  # reverting to original value
  order.shipped_at = original_time
  order.changed? # =&gt; false, used to return true
end
</code></pre></div>    </div>

    <p>Backport of #9073
Fixes #8898</p>

    <p><em>Lilibeth De La Cruz</em></p>
  </li>
  <li>
    <p>Fix counter cache columns not updated when replacing <code class="language-plaintext highlighter-rouge">has_many :through</code>
associations.
Backport #8400.
Fix #7630.</p>

    <p><em>Matthew Robertson</em></p>
  </li>
  <li>
    <p>Don’t update <code class="language-plaintext highlighter-rouge">column_defaults</code> when calling destructive methods on column with default value.
Backport c517602.
Fix #6115.</p>

    <p><em>Piotr Sarnacki + Aleksey Magusev + Alan Daud</em></p>
  </li>
  <li>
    <p>When <code class="language-plaintext highlighter-rouge">#count</code> is used in conjunction with <code class="language-plaintext highlighter-rouge">#uniq</code> we perform <code class="language-plaintext highlighter-rouge">count(:distinct =&gt; true)</code>.
Fix #6865.</p>

    <p>Example:</p>

    <p>relation.uniq.count # =&gt; SELECT COUNT(DISTINCT *)</p>

    <p><em>Yves Senn + Kaspar Schiess</em></p>
  </li>
  <li>
    <p>Fix <code class="language-plaintext highlighter-rouge">ActiveRecord::Relation#pluck</code> when columns or tables are reserved words.
Backport #7536.
Fix #8968.</p>

    <p><em>Ian Lesperance + Yves Senn + Kaspar Schiess</em></p>
  </li>
  <li>
    <p>Don’t run explain on slow queries for database adapters that don’t support it.
Backport #6197.</p>

    <p><em>Blake Smith</em></p>
  </li>
  <li>
    <p>Revert round usec when comparing timestamp attributes in the dirty tracking.
Fixes #8460.</p>

    <p><em>Andrew White</em></p>
  </li>
  <li>
    <p>Revert creation of through association models when using <code class="language-plaintext highlighter-rouge">collection=[]</code>
on a <code class="language-plaintext highlighter-rouge">has_many :through</code> association from an unsaved model.
Fix #7661, #8269.</p>

    <p><em>Ernie Miller</em></p>
  </li>
  <li>
    <p>Fix undefined method <code class="language-plaintext highlighter-rouge">to_i</code> when calling <code class="language-plaintext highlighter-rouge">new</code> on a scope that uses an
Array; Fix FloatDomainError when setting integer column to NaN.
Fixes #8718, #8734, #8757.</p>

    <p><em>Jason Stirk + Tristan Harward</em></p>
  </li>
  <li>
    <p>Serialized attributes can be serialized in integer columns.
Fix #8575.</p>

    <p><em>Rafael Mendonça França</em></p>
  </li>
  <li>
    <p>Keep index names when using <code class="language-plaintext highlighter-rouge">alter_table</code> with sqlite3.
Fix #3489.
Backport #8522.</p>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Recognize migrations placed in directories containing numbers and ‘rb’.
Fix #8492.
Backport of #8500.</p>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Add <code class="language-plaintext highlighter-rouge">ActiveRecord::Base.cache_timestamp_format</code> class attribute to control
the format of the timestamp value in the cache key.
This allows users to improve the precision of the cache key.
Fixes #8195.</p>

    <p><em>Rafael Mendonça França</em></p>
  </li>
  <li>
    <p>Add <code class="language-plaintext highlighter-rouge">:nsec</code> date format. This can be used to improve the precision of cache key.
Please note that this format only works with Ruby 1.9, Ruby 1.8 will ignore it completely.</p>

    <p><em>Jamie Gaskins</em></p>
  </li>
  <li>
    <p>Unscope <code class="language-plaintext highlighter-rouge">update_column(s)</code> query to ignore default scope.</p>

    <p>When applying <code class="language-plaintext highlighter-rouge">default_scope</code> to a class with a where clause, using
<code class="language-plaintext highlighter-rouge">update_column(s)</code> could generate a query that would not properly update
the record due to the where clause from the <code class="language-plaintext highlighter-rouge">default_scope</code> being applied
to the update query.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class User &lt; ActiveRecord::Base
  default_scope where(active: true)
end

user = User.first
user.active = false
user.save!

user.update_column(:active, true) # =&gt; false
</code></pre></div>    </div>

    <p>In this situation we want to skip the default_scope clause and just
update the record based on the primary key. With this change:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>user.update_column(:active, true) # =&gt; true
</code></pre></div>    </div>

    <p>Backport of #8436 fix.</p>

    <p><em>Carlos Antonio da Silva</em></p>
  </li>
  <li>
    <p>Fix performance problem with primary_key method in PostgreSQL adapter when having many schemas.
Uses pg_constraint table instead of pg_depend table which has many records in general.
Fix #8414</p>

    <p><em>kennyj</em></p>
  </li>
  <li>
    <p>Do not instantiate intermediate Active Record objects when eager loading.
These records caused <code class="language-plaintext highlighter-rouge">after_find</code> to run more than expected.
Fix #3313
Backport of #8403</p>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Fix <code class="language-plaintext highlighter-rouge">pluck</code> to work with joins. Backport of #4942.</p>

    <p><em>Carlos Antonio da Silva</em></p>
  </li>
  <li>
    <p>Fix a problem with <code class="language-plaintext highlighter-rouge">translate_exception</code> method in a non English environment.
Backport of #6397.</p>

    <p><em>kennyj</em></p>
  </li>
  <li>
    <p>Fix dirty attribute checks for TimeZoneConversion with nil and blank
datetime attributes. Setting a nil datetime to a blank string should not
result in a change being flagged.
Fixes #8310.
Backport of #8311.</p>

    <p><em>Alisdair McDiarmid</em></p>
  </li>
  <li>
    <p>Prevent mass assignment to the type column of polymorphic associations when using <code class="language-plaintext highlighter-rouge">build</code>.
Fixes #8265.
Backport of #8291.</p>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>When running migrations on Postgresql, the <code class="language-plaintext highlighter-rouge">:limit</code> option for <code class="language-plaintext highlighter-rouge">binary</code> and <code class="language-plaintext highlighter-rouge">text</code> columns is
silently dropped.
Previously, these migrations caused sql exceptions, because Postgresql doesn’t support limits
on these types.</p>

    <p><em>Victor Costan</em></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">#pluck</code> can be used on a relation with <code class="language-plaintext highlighter-rouge">select</code> clause.
Fixes #7551.
Backport of #8176.</p>

    <p>Example:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Topic.select([:approved, :id]).order(:id).pluck(:id)
</code></pre></div>    </div>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Use <code class="language-plaintext highlighter-rouge">nil?</code> instead of <code class="language-plaintext highlighter-rouge">blank?</code> to check whether dynamic finder with a bang
should raise RecordNotFound.
Fixes #7238.</p>

    <p><em>Nikita Afanasenko</em></p>
  </li>
  <li>
    <p>Fix deleting from a HABTM join table upon destroying an object of a model
with optimistic locking enabled.
Fixes #5332.</p>

    <p><em>Nick Rogers</em></p>
  </li>
  <li>
    <p>Use query cache/uncache when using ENV[“DATABASE_URL”].
Fixes #6951.
Backport of #8074.</p>

    <p><em>kennyj</em></p>
  </li>
  <li>
    <p>Do not create useless database transaction when building <code class="language-plaintext highlighter-rouge">has_one</code> association.</p>

    <p>Example:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User.has_one :profile
User.new.build_profile
</code></pre></div>    </div>

    <p>Backport of #8154.</p>

    <p><em>Bogdan Gusiev</em></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">AR::Base#attributes_before_type_cast</code> now returns unserialized values for serialized attributes.</p>

    <p><em>Nikita Afanasenko</em></p>
  </li>
  <li>
    <p>Fix issue that raises <code class="language-plaintext highlighter-rouge">NameError</code> when overriding the <code class="language-plaintext highlighter-rouge">accepts_nested_attributes</code> in child classes.</p>

    <p>Before:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class Shared::Person &lt; ActiveRecord::Base
  has_one :address

  accepts_nested_attributes :address, :reject_if =&gt; :all_blank
end

class Person &lt; Shared::Person
  accepts_nested_attributes :address
end

Person
#=&gt; NameError: method `address_attributes=' not defined in Person
</code></pre></div>    </div>

    <p>After:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Person
#=&gt; Person(id: integer, ...)
</code></pre></div>    </div>

    <p>Fixes #8131.</p>

    <p><em>Gabriel Sobrinho, Ricardo Henrique</em></p>
  </li>
</ul>

<p><em>Active Resource</em></p>

<p>No changes.</p>

<p><em>Active Support</em></p>

<ul>
  <li>
    <p>Fix DateTime comparison with DateTime::Infinity object.</p>

    <p><em>Dan Kubb</em></p>
  </li>
  <li>
    <p>Remove surrogate unicode character encoding from ActiveSupport::JSON.encode
The encoding scheme was broken for unicode characters outside the basic
multilingual plane; since json is assumed to be UTF-8, and we already force the
encoding to UTF-8 simply pass through the un-encoded characters.</p>

    <p><em>Brett Carter</em></p>
  </li>
  <li>
    <p>Fix mocha v0.13.0 compatibility. <em>James Mead</em></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">#as_json</code> isolates options when encoding a hash. [Backport #8185]
Fix #8182</p>

    <p><em>Yves Senn</em></p>
  </li>
  <li>
    <p>Handle the possible Permission Denied errors atomic.rb might trigger due to
its chown and chmod calls. [Backport #8027]</p>

    <p><em>Daniele Sluijters</em></p>
  </li>
</ul>

<p><em>Railties</em></p>

<p>No changes.</p>

<p><em>Full listing</em></p>

<p>To see the full list of changes, <a href="https://github.com/rails/rails/compare/v3.2.12...v3.2.13.rc1">check out all the commits on
GitHub</a>.</p>

<h2 id="sha-1">SHA-1</h2>

<p>If you’d like to verify that your gem is the same as the one I’ve uploaded,
please use these SHA-1 hashes:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">6a33c2d10abb5512499addb675df658e179f2e79</code>  actionmailer-3.2.13.rc1.gem</li>
  <li><code class="language-plaintext highlighter-rouge">11d8303470698c5b0ac68f187a15093c07383c89</code>  actionpack-3.2.13.rc1.gem</li>
  <li><code class="language-plaintext highlighter-rouge">a72dafd8b1e3372cc4dda9015b93bf5509b25baa</code>  activemodel-3.2.13.rc1.gem</li>
  <li><code class="language-plaintext highlighter-rouge">3c6463ab11658b5ab0fe6a4ad06eb52968ef4492</code>  activerecord-3.2.13.rc1.gem</li>
  <li><code class="language-plaintext highlighter-rouge">06cec200b95dc1f64614cd03432e9ab06742a865</code>  activeresource-3.2.13.rc1.gem</li>
  <li><code class="language-plaintext highlighter-rouge">5ff59cacae5295baf30a6fb8fb656037f22af3c2</code>  activesupport-3.2.13.rc1.gem</li>
  <li><code class="language-plaintext highlighter-rouge">facf4549445922d9dc2a836283ae928fa52df4f8</code>  rails-3.2.13.rc1.gem</li>
  <li><code class="language-plaintext highlighter-rouge">55e44f621efbf531d9ccade6d27259f7dabae167</code>  railties-3.2.13.rc1.gem</li>
</ul>

<p>&lt;3&lt;3&lt;3</p>


      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
