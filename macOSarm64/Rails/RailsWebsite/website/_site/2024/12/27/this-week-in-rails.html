<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; This year in Rails</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="This is Greg, Vipul, Wojciech, and Zzak, bringing you the summary of what happened with Rails in the past year. It was a busy year with close to 4000 commits from 555 contributors and 50 releases, including Rails 8!" />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="This year in Rails" />
  <meta property="og:description" content="This is Greg, Vipul, Wojciech, and Zzak, bringing you the summary of what happened with Rails in the past year. It was a busy year with close to 4000 commits from 555 contributors and 50 releases, including Rails 8!" />
  <meta property="og:image" content="http://localhost:4000/assets/images/this-week-in-rails.png" />
  <meta property="og:url" content="http://localhost:4000/2024/12/27/this-week-in-rails" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="This year in Rails" />
  <meta name="twitter:description" content="This is Greg, Vipul, Wojciech, and Zzak, bringing you the summary of what happened with Rails in the past year. It was a busy year with close to 4000 commits from 555 contributors and 50 releases, including Rails 8!" />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/this-week-in-rails.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2024/12/27/this-week-in-rails"
      },
      "name": "Ruby on Rails",
      "headline": "This year in Rails",
      "description": "This is Greg, Vipul, Wojciech, and Zzak, bringing you the summary of what happened with Rails in the past year. It was a busy year with close to 4000 commits from 555 contributors and 50 releases, including Rails 8!",
      "url": "http://localhost:4000/2024/12/27/this-week-in-rails",
      "image": "http://localhost:4000/assets/images/this-week-in-rails.png",
      "author": {
        "@type": "Person",
        "name": "Greg"
      },
      "datePublished": "2024-12-27T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Friday, December 27, 2024</h5>
        <h2>This year in Rails</h2>

        <h6>Posted by Greg</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>This is Greg, Vipul, Wojciech, and Zzak, bringing you the summary of what happened with Rails in the past year. It was a busy year with close to <a href="https://github.com/rails/rails/compare/@%7B2024-01-01%7D...main@%7B2024-12-31%7D">4000 commits</a> from <a href="https://contributors.rubyonrails.org/contributors/in-time-window/20240101-20241231">555 contributors</a> and 50 releases, including Rails 8!</p>

<p>For this year end issue, as a team we each hand-picked some of our favorite pull requests from the year.</p>

<p><a href="https://rubyonrails.org/2024/12/18/wrap-up-2024-from-rails-foundation">2024 Wrap Up from the Rails Foundation</a><br />
Amanda wrote a summary of what the Rails Foundation has been up to this year and what she is plannning for next year.</p>

<p><a href="https://github.com/rails/rails/pull/50528">Add default PWA manifest and service worker file</a><br />
Progressive Web Apps got a lot of support in Rails this year starting with freshly generated Rails apps now include a manifest and service worker file to become full-fledged Progressive Web Applications.</p>

<p><a href="https://github.com/rails/rails/pull/50505">Add allow_browser to set minimum versions for your application</a><br />
Now you can easily specify which browsers you’ve supported to allow access to your application.</p>

<p><a href="https://github.com/rails/rails/pull/50490">Add rate limiting to Action Controller via the Kredis limiter type</a><br />
Rails got a built in rate limiter this year. Originally it was dependent on
Kredis, but it was <a href="https://github.com/rails/rails/pull/50781">quickly refactored</a> to use the Rails cache store.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SessionsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">rate_limit</span> <span class="ss">to: </span><span class="mi">10</span><span class="p">,</span> <span class="ss">within: </span><span class="mi">3</span><span class="p">.</span><span class="nf">minutes</span><span class="p">,</span> <span class="ss">only: :create</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">SignupsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="n">rate_limit</span> <span class="ss">to: </span><span class="mi">1000</span><span class="p">,</span> <span class="ss">within: </span><span class="mi">10</span><span class="p">.</span><span class="nf">seconds</span><span class="p">,</span>
    <span class="ss">by: </span><span class="o">-&gt;</span> <span class="p">{</span> <span class="n">request</span><span class="p">.</span><span class="nf">domain</span> <span class="p">},</span> <span class="ss">with: </span><span class="o">-&gt;</span> <span class="p">{</span> <span class="n">redirect_to</span> <span class="n">busy_controller_url</span><span class="p">,</span> <span class="ss">alert: </span><span class="s2">"Too many signups!"</span> <span class="p">},</span> <span class="ss">only: :new</span>
<span class="k">end</span>
</code></pre></div></div>

<p><a href="https://github.com/rails/rails/pull/50914">Generate devcontainer files by default</a><br />
This change generates a <code class="language-plaintext highlighter-rouge">.devcontainer</code> folder and its contents when creating a new app.
The <code class="language-plaintext highlighter-rouge">.devcontainer</code> folder includes everything needed to <a href="https://containers.dev/">boot the app and do development in a remote container</a>.
These files can be skipped using the <code class="language-plaintext highlighter-rouge">--skip-devcontainer</code> option.</p>

<p><a href="https://github.com/rails/rails/pull/50796">Add customized prompt for Rails console</a><br />
Rails console now indicates the current Rails environment with the name and color (red for production).</p>

<p><a href="https://github.com/rails/rails/pull/51798">Add Kamal by default to Rails 8 </a><br />
This PR adds Kamal for deployment by default, which includes generating a Rails-specific <code class="language-plaintext highlighter-rouge">config/deploy.yml</code>.
This can be skipped using  <code class="language-plaintext highlighter-rouge">--skip-kamal</code>. Check out more about Kamal on its <a href="https://kamal-deploy.org/">official site</a>.</p>

<p><a href="https://github.com/rails/rails/pull/51799">Change asset pipeline default to Propshaft in Rails 8</a><br />
Sprockets has served us well, but it’s time to hand over the torch to <a href="https://github.com/rails/propshaft">Propshaft</a> in Rails 8.</p>

<p><a href="https://github.com/rails/rails/pull/52328">Add a basic sessions generator</a><br />
This change adds a new sessions generator to give a basic start to an authentication system using database-tracked sessions.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Generate with...</span>
bin/rails generate session

<span class="c"># Generated files</span>
app/models/current.rb
app/models/user.rb
app/models/session.rb
app/controllers/sessions_controller.rb
app/views/sessions/new.html.erb
db/migrate/xxxxxxx_create_users.rb
db/migrate/xxxxxxx_create_sessions.rb
</code></pre></div></div>

<p>The generator was later renamed to “authentication” generator and got a bunch of improvements.</p>

<p><a href="https://github.com/rails/rails/pull/52471">Implement new maintenance policy</a><br />
The Rails maintenance policy was updated this year. The main changes are:</p>
<ul>
  <li>Releases are maintained by a pre-defined, fixed period of time. One year for bug fixes and two years for security fixes.</li>
  <li>Distinction between severe security issues and regular security issues is removed.</li>
  <li>Npm versioning is updated to match not use the pre-release - separator.</li>
</ul>

<p><a href="https://github.com/rails/rails/pull/51793">Use Thruster by default for Rails 8</a><br />
<a href="https://github.com/basecamp/thruster/">Thruster</a> is an asset compression and caching proxy with X-Sendfile acceleration that speeds up simple production-ready deployments of Rails applications.
It runs alongside the Puma and usually behind the Kamal 2 proxy, which offers HTTP/2 and SSL auto-certificates,
to help your app run efficiently and safely on the open Internet.</p>

<p>This change configures the use of Thruster in the Dockerfile by default, starting with Rails 8.</p>

<p><a href="https://github.com/rails/rails/pull/52354">Add support for SQLite3 full-text search and other virtual tables</a><br />
SQLite3 full-text search and other virtual tables are now supported in Rails.
Previously, adding SQLite3 virtual tables messed up <code class="language-plaintext highlighter-rouge">schema.rb</code>, but with this change, virtual tables can safely be added using <code class="language-plaintext highlighter-rouge">create_virtual_table</code>.</p>

<p><a href="https://github.com/rails/rails/pull/52790">Add Solid Cache</a><br />
Solid Cache will be the new default caching backend for production deployments out of the box in Rails 8.</p>

<p><a href="https://github.com/rails/rails/pull/52804">Add Solid Queue</a><br />
Configure Solid Queue as the default Active Job backend alongside Solid Cache. Both can be skipped with <code class="language-plaintext highlighter-rouge">--skip-solid</code>.</p>

<p><a href="https://github.com/rails/rails/pull/52889">Add Solid Cable</a><br />
This change starts to use <a href="https://github.com/rails/solid_cable">Solid Cable</a> as the default Action Cable adapter in production, configured as a separate queue database in <code class="language-plaintext highlighter-rouge">config/database.yml</code>. 
It keeps messages in a table and continuously polls for updates.</p>

<p>This makes it possible to drop the common dependency on Redis, if it isn’t needed for any other purpose. 
Despite polling, the performance of Solid Cable is comparable to Redis in most situations. 
And in all circumstances, it makes it easier to deploy Rails when Redis is no longer a required dependency for Action Cable functionality.</p>

<p><a href="https://github.com/rails/rails/pull/52789">Silence healthcheck requests from the log</a><br />
Add <code class="language-plaintext highlighter-rouge">Rails::Rack::SilenceRequest</code> middleware and use it via <code class="language-plaintext highlighter-rouge">config.silence_healthcheck_path = path</code> to silence requests to “/up”.
This prevents the Kamal-required healthchecks from clogging up the production logs.</p>

<p><a href="https://github.com/rails/rails/pull/51674">Add Parameters#expect to safely filter and require params</a><br />
This PR adds a new way to handle params giving more control over what you expect to receive in your controller actions.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Before</span>
<span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:table</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:attr</span><span class="p">)</span>

<span class="c1"># After</span>
<span class="n">params</span><span class="p">.</span><span class="nf">expect</span><span class="p">(</span><span class="ss">table: </span><span class="p">[</span> <span class="ss">:attr</span> <span class="p">])</span>
</code></pre></div></div>

<p><a href="https://github.com/rails/rails/pull/53045">Tidy up the error pages</a><br />
The error pages built into Rails have been updated, here’s a preview of the new look:
<img width="1512" alt="Screenshot 2024-09-26 at 10 46 56 AM" src="https://github.com/user-attachments/assets/225dbc1f-309e-4f31-9da7-106f7d312424" /></p>

<p><a href="https://github.com/rails/rails/pull/53827">Support loading SQLite3 extensions</a><br />
The <em>sqlite3</em> gem v2.4.0 introduces support for loading extensions passed as a kwarg to <em>Database.new</em>. This PR leverages that feature to allow configuration of extensions in the <em>config/database.yml</em> file using either filesystem paths or the names of modules that respond to <em>to_path</em> method.</p>

<p><a href="https://github.com/rails/rails/pull/53065">Add ActiveSupport::Testing::NotificationAssertions test helper module</a><br />
With this addition, we can now use various test helper methods for notification assertions:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">assert_notification</span><span class="p">(</span><span class="s2">"post.submitted"</span><span class="p">,</span> <span class="ss">title: </span><span class="s2">"Cool Post"</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">post</span><span class="p">.</span><span class="nf">submit</span><span class="p">(</span><span class="ss">title: </span><span class="s2">"Cool Post"</span><span class="p">)</span> <span class="c1"># =&gt; emits matching notification</span>
<span class="k">end</span>

<span class="n">assert_notifications_count</span><span class="p">(</span><span class="s2">"post.submitted"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">post</span><span class="p">.</span><span class="nf">submit</span><span class="p">(</span><span class="ss">title: </span><span class="s2">"Cool Post"</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">assert_no_notifications</span><span class="p">(</span><span class="s2">"post.submitted"</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">post</span><span class="p">.</span><span class="nf">destroy</span>
<span class="k">end</span>

<span class="n">notifications</span> <span class="o">=</span> <span class="n">capture_notifications</span><span class="p">(</span><span class="s2">"post.submitted"</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">post</span><span class="p">.</span><span class="nf">submit</span><span class="p">(</span><span class="ss">title: </span><span class="s2">"Cool Post"</span><span class="p">)</span> <span class="c1"># =&gt; emits matching notification</span>
<span class="k">end</span>
</code></pre></div></div>

<p><em>You can view the whole list of changes <a href="https://github.com/rails/rails/compare/@%7B2024-01-01%7D...main@%7B2024-12-31%7D">here</a>.</em>
<em>We had <a href="https://contributors.rubyonrails.org/contributors/in-time-window/20240101-20241231">555 contributors</a> to the Rails codebase this year!</em></p>

<p>Merry Christmas and a happy New Year! Until next time!</p>

<p><em><a href="https://world.hey.com/this.week.in.rails">Subscribe</a> to get these updates mailed to you.</em></p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
