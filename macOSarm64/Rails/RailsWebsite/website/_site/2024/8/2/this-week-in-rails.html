<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; Rails Luminary nominations open, new maintenance policy and more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Hi, it is Greg, bringing you the latest changes in Rails. The framework turned 20 years old this past week. Happy Birthday Ruby on Rails!Let’s explore this week’s changes in the Rails codebase." />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="Rails Luminary nominations open, new maintenance policy and more!" />
  <meta property="og:description" content="Hi, it is Greg, bringing you the latest changes in Rails. The framework turned 20 years old this past week. Happy Birthday Ruby on Rails!Let’s explore this week’s changes in the Rails codebase." />
  <meta property="og:image" content="http://localhost:4000/assets/images/this-week-in-rails.png" />
  <meta property="og:url" content="http://localhost:4000/2024/8/2/this-week-in-rails" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="Rails Luminary nominations open, new maintenance policy and more!" />
  <meta name="twitter:description" content="Hi, it is Greg, bringing you the latest changes in Rails. The framework turned 20 years old this past week. Happy Birthday Ruby on Rails!Let’s explore this week’s changes in the Rails codebase." />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/this-week-in-rails.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2024/8/2/this-week-in-rails"
      },
      "name": "Ruby on Rails",
      "headline": "Rails Luminary nominations open, new maintenance policy and more!",
      "description": "Hi, it is Greg, bringing you the latest changes in Rails. The framework turned 20 years old this past week. Happy Birthday Ruby on Rails!Let’s explore this week’s changes in the Rails codebase.",
      "url": "http://localhost:4000/2024/8/2/this-week-in-rails",
      "image": "http://localhost:4000/assets/images/this-week-in-rails.png",
      "author": {
        "@type": "Person",
        "name": "Greg"
      },
      "datePublished": "2024-08-02T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Friday, August 2, 2024</h5>
        <h2>Rails Luminary nominations open, new maintenance policy and more!</h2>

        <h6>Posted by Greg</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Hi, it is <a href="https://greg.molnar.io">Greg</a>, bringing you the latest changes in Rails. The framework turned 20 years old this past week. Happy Birthday Ruby on Rails!
Let’s explore this week’s changes in the Rails codebase.</p>

<p><a href="https://rubyonrails.org/2024/8/2/nominations-open-for-2024-luminaries">Nominations open for the 2024 Rails Luminary Awards
</a><br />
Last year the Rails Foundation started the Rails Luminary Awards acknowledging people who’ve contributed to the Rails ecosystem and community with exceptional code, documentation, enthusiasm, or assistance, thereby helping others do more, learn more, or be inspired. You can submit your 2024 Rails Luminary nomination <a href="https://rails-foundation.neetoform.com/bc30089dde483e9ae9a0">here</a>.</p>

<p><a href="https://github.com/rails/rails/pull/52471">Implement new maintenance policy</a><br />
The Rails maintenance policy was updated last week. The main changes are:</p>
<ul>
  <li>Releases are maintained by a pre-defined, fixed period of time. One year for bug fixes and two years for security fixes.</li>
  <li>Distinction between severe security issues and regular security issues is removed.</li>
  <li>Npm versioning is updated to match not use the pre-release - separator.</li>
</ul>

<p><a href="https://github.com/rails/rails/pull/52472">Add password reset to authentication generator</a><br />
This pull request adds a basic password reset flow to the new Rails generator to show use of signed ids with a mailer.<br />
Also, The generator was <a href="https://github.com/rails/rails/pull/52435">renamed to “authentication”</a> this past week.</p>

<p><a href="https://github.com/rails/rails/pull/52483">Add a default password reset token to has_secure_password</a><br />
This pull request adds a default configuration for a 15-minute password reset token when using <code class="language-plaintext highlighter-rouge">has_secure_password</code>:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ApplicationRecord</span>
  <span class="n">has_secure_password</span>
<span class="k">end</span>

<span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">create!</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"david"</span><span class="p">,</span> <span class="ss">password: </span><span class="s2">"123"</span><span class="p">,</span> <span class="ss">password_confirmation: </span><span class="s2">"123"</span><span class="p">)</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">password_reset_token</span>
<span class="no">User</span><span class="p">.</span><span class="nf">find_by_password_reset_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="c1"># returns user in the next 15 minutes.</span>
</code></pre></div></div>

<p><a href="https://github.com/rails/rails/pull/52480">Implement the bin/rails boot command</a><br />
The new <code class="language-plaintext highlighter-rouge">bin/rails boot</code> command boots the application and exits. Supports the standard <code class="language-plaintext highlighter-rouge">-e/--environment</code> options. It can be handy when you want to test the boot logic of a Rails app or when benchmarking something.</p>

<p><a href="https://github.com/rails/rails/pull/52432">Rename <em>check_box</em> helpers to <em>checkbox</em></a><br />
This pull request renamed the <code class="language-plaintext highlighter-rouge">check_box</code> helper methods to <code class="language-plaintext highlighter-rouge">checkbox</code> and kept
the old names as aliases.<br />
The same change was done to <code class="language-plaintext highlighter-rouge">text_area</code> in <a href="https://github.com/rails/rails/pull/52467">another pull request</a>.</p>

<p><a href="https://github.com/rails/rails/pull/52460">Generate errors when running a Docker build with warnings</a><br />
Docker introduced Docker build checks and by default, running a Docker build with warnings will not cause the build to fail (return a non-zero exit code). To raise errors on warnings <code class="language-plaintext highlighter-rouge"># check=error=true</code> declaration should be added to the Dockerfile, and this pull request did that.</p>

<p><a href="https://github.com/rails/rails/pull/52426">Change Active Model’s <em>human_attribute_name</em> to raise an error</a><br />
When <code class="language-plaintext highlighter-rouge">config.i18n.raise_on_missing_translations</code> is set to <code class="language-plaintext highlighter-rouge">true</code>, controllers and views raise an error on missing translations. However, models won’t. This pull request changes models to raise an error when <code class="language-plaintext highlighter-rouge">raise_on_missing_translations</code> is true.</p>

<p><a href="https://github.com/rails/rails/pull/52422">Deprecate hash key path mapping</a><br />
This pull request deprecates drawing routes with hash key paths to make routing faster.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Before</span>
<span class="n">get</span> <span class="s2">"/users"</span> <span class="o">=&gt;</span> <span class="s2">"users#index"</span>
<span class="n">post</span> <span class="s2">"/logout"</span> <span class="o">=&gt;</span> <span class="ss">:sessions</span>
<span class="n">mount</span> <span class="no">MyApp</span> <span class="o">=&gt;</span> <span class="s2">"/my_app"</span>

<span class="c1"># After</span>
<span class="n">get</span> <span class="s2">"/users"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"users#index"</span>
<span class="n">post</span> <span class="s2">"/logout"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"sessions#logout"</span>
<span class="n">mount</span> <span class="no">MyApp</span><span class="p">,</span> <span class="ss">at: </span><span class="s2">"/my_app"</span>
</code></pre></div></div>
<p><a href="https://github.com/rails/rails/pull/52409">Deprecate multiple path route mapping</a>  <br />
Drawing routes with multiple paths was also deprecated to make routing faster.
You may use <code class="language-plaintext highlighter-rouge">with_options</code> or a loop to make drawing multiple paths easier.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Before</span>
<span class="n">get</span> <span class="s2">"/users"</span><span class="p">,</span> <span class="s2">"/other_path"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"users#index"</span>

<span class="c1"># After</span>
<span class="n">get</span> <span class="s2">"/users"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"users#index"</span>
<span class="n">get</span> <span class="s2">"/other_path"</span><span class="p">,</span> <span class="ss">to: </span><span class="s2">"users#index"</span>
</code></pre></div></div>

<p><a href="https://github.com/rails/rails/pull/52417">Introduce <em>ActiveModel::AttributeAssignment#attribute_writer_missing</em></a><br />
This pull request introduces <code class="language-plaintext highlighter-rouge">ActiveModel::AttributeAssignment#attribute_writer_missing</code> to provide instances with an opportunity to gracefully handle assigning to an unknown attribute:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Rectangle</span>
  <span class="kp">include</span> <span class="no">ActiveModel</span><span class="o">::</span><span class="no">AttributeAssignment</span>

  <span class="nb">attr_accessor</span> <span class="ss">:length</span><span class="p">,</span> <span class="ss">:width</span>

  <span class="k">def</span> <span class="nf">attribute_writer_missing</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="no">Rails</span><span class="p">.</span><span class="nf">logger</span><span class="p">.</span><span class="nf">warn</span> <span class="s2">"Tried to assign to unknown attribute </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">rectangle</span> <span class="o">=</span> <span class="no">Rectangle</span><span class="p">.</span><span class="nf">new</span>
<span class="n">rectangle</span><span class="p">.</span><span class="nf">assign_attributes</span><span class="p">(</span><span class="ss">height: </span><span class="mi">10</span><span class="p">)</span> <span class="c1"># =&gt; Logs "Tried to assign to unknown attribute 'height'"</span>
</code></pre></div></div>

<p><a href="https://github.com/rails/rails/pull/52413">Add <em>cvv</em> and <em>cvc</em> as default parameters to filter out in new apps</a><br />
In general you should not be posting credit card details to your server, but if you make a mistake in your form and <em>do</em> post a user’s credit card number, those details will get logged by default, even if your server doesn’t use them.
This pull request adds <code class="language-plaintext highlighter-rouge">cvv</code> and <code class="language-plaintext highlighter-rouge">cvc</code> to the defaults for <a href="https://api.rubyonrails.org/v7.1.3.4/classes/ActiveSupport/ParameterFilter.html"><code class="language-plaintext highlighter-rouge">ActiveSupport::ParameterFilter</code></a> for new apps. This means that params with those names will not get logged by default. This just changes the template for new apps; there’s no changes made to existing apps.</p>

<p><a href="https://github.com/rails/rails/pull/52384">Support Active Record batching using custom columns</a><br />
This pull request adds support to Active Record batching to be used with custom columns.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Product</span><span class="p">.</span><span class="nf">in_batches</span><span class="p">(</span><span class="ss">cursor: </span><span class="p">[</span><span class="ss">:shop_id</span><span class="p">,</span> <span class="ss">:id</span><span class="p">])</span> <span class="k">do</span> <span class="o">|</span><span class="n">relation</span><span class="o">|</span>
  <span class="c1"># do something with relation</span>
<span class="k">end</span>
</code></pre></div></div>
<p><a href="https://github.com/rails/rails/pull/52351">Reallow setting <em>secret_key_base</em> to <em>nil</em> in local environments</a><br />
Previously, <code class="language-plaintext highlighter-rouge">secret_key_base</code> was allowed to be set to <code class="language-plaintext highlighter-rouge">nil</code> in local environments (or with <code class="language-plaintext highlighter-rouge">SECRET_KEY_BASE_DUMMY</code>) because validation would only happen on usage and not on the setter. This was <a href="https://github.com/rails/rails/commit/c2901eb084adb3d3701be157bec20d2961beb515">recently changed</a> to make it easier to identify exactly where a <em>secret_key_base</em> was being set to an invalid value.<br />
However, this change broke some applications which unconditionally set <code class="language-plaintext highlighter-rouge">secret_key_base</code> to some external value in dev/test. Before the change, the set value could be <code class="language-plaintext highlighter-rouge">nil</code> and fall back to the generated local secret on usage. This pull request restores that behavior.</p>

<p><a href="https://github.com/rails/rails/pull/50371">Ensure SQLite transaction defaults to IMMEDIATE mode</a><br />
This pull request changes Active Record to Use SQLite <code class="language-plaintext highlighter-rouge">IMMEDIATE</code> transactions when possible. With this change, transactions run against the SQLite3 adapter default to <code class="language-plaintext highlighter-rouge">IMMEDIATE</code> mode to improve concurrency support and avoid busy exceptions.</p>

<p><em>You can view the whole list of changes <a href="https://github.com/rails/rails/compare/@%7B2024-07-26%7D...main@%7B2024-08-02%7D">here</a>.</em>
<em>We had <a href="https://contributors.rubyonrails.org/contributors/in-time-window/20240726-20240802">31 contributors</a> to the Rails codebase this past week!</em></p>

<p>Until next time!</p>

<p><em><a href="https://world.hey.com/this.week.in.rails">Subscribe</a> to get these updates mailed to you.</em></p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
