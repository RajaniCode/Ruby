<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; Action Cable testing utilities, bugfixes and more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Happy Sunday! This is Greg bringing you the latest news about Rails." />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="Action Cable testing utilities, bugfixes and more!" />
  <meta property="og:description" content="Happy Sunday! This is Greg bringing you the latest news about Rails." />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2018/8/26/this-week-in-rails-action-cable-testing-utilities-bugfixes-and-more" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="Action Cable testing utilities, bugfixes and more!" />
  <meta name="twitter:description" content="Happy Sunday! This is Greg bringing you the latest news about Rails." />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2018/8/26/this-week-in-rails-action-cable-testing-utilities-bugfixes-and-more"
      },
      "name": "Ruby on Rails",
      "headline": "Action Cable testing utilities, bugfixes and more!",
      "description": "Happy Sunday! This is Greg bringing you the latest news about Rails.",
      "url": "http://localhost:4000/2018/8/26/this-week-in-rails-action-cable-testing-utilities-bugfixes-and-more",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "gregmolnar"
      },
      "datePublished": "2018-08-26T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Sunday, August 26, 2018</h5>
        <h2>Action Cable testing utilities, bugfixes and more!</h2>

        <h6>Posted by gregmolnar</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Happy Sunday! This is <a href="https://twitter.com/gregmolnar">Greg</a> bringing you the latest news about Rails.</p>

<h3 id="the-initializers-rake-task-is-moved-to-railscommand"><a href="https://github.com/rails/rails/pull/33631">The initializers Rake task is moved to Rails::Command</a></h3>

<p>Another Rake task is moved to Rails::Command, so in Rails 6 you will need to call <em>bin/rails initializers</em> instead of <em>bin/rake initializers.</em></p>

<h3 id="improve-active-job-test-helpers"><a href="https://github.com/rails/rails/pull/33635">Improve Active Job test helpers</a></h3>

<p>This change adds a <em>queue</em> option to <em>perform_enqueued_jobs</em>, and if it is set, only the specified <em>queue</em> will be performed.</p>

<h3 id="fix-rails-routes--c-"><a href="https://github.com/rails/rails/pull/33662">Fix <code class="language-plaintext highlighter-rouge">rails routes -c</code> </a></h3>

<p>This PR fixes the issue of <em>rails routes -c UserPermissionsController</em> did not output routes for the corresponding controller, because its name consists of multiple words. </p>

<h3 id="action-cable-testing"><a href="https://github.com/rails/rails/pull/33659">Action Cable testing</a></h3>

<p>This PR is basically a merge of the <em>actioncable-testing</em> gem into Rails, to provide testing utilities for Action Cable.</p>

<h3 id="fail-more-gracefully-from-active-storage-missing-file-exceptions"><a href="https://github.com/rails/rails/pull/33666">Fail more gracefully from Active Storage missing file exceptions</a></h3>

<p>This PR translates service-specific missing object exceptions into one generic <em>ActiveStorage::FileNotFoundError,</em> so the application can fail more gracefully when a missing file is accessed.</p>

<h3 id="omit-begincommit-statements-for-empty-transactions"><a href="https://github.com/rails/rails/pull/32647">Omit BEGIN/COMMIT statements for empty transactions</a></h3>

<p>With this change, if a transaction is opened and closed without any queries being run, the BEGIN and COMMIT statements are omitted to remove the overhead, and make workarounds like <em>save if changed?</em> unnecessary.</p>

<h3 id="support-multiple-submit-buttons-in-active-storage-forms"><a href="https://github.com/rails/rails/pull/33413">Support multiple submit buttons in Active Storage forms</a></h3>

<p>Often times forms have more than one submit button enabling different actions, but before this change, Active Storage used the first submit button of the form, rather than the one the user actually clicked.</p>

<p><a href="https://contributors.rubyonrails.org/contributors/in-time-window/20180818-20180825">28 people</a> contributed to Rails this week. If you also want help out, check out the list of <a href="https://github.com/rails/rails/issues">open issues</a>!
Until next time!</p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
