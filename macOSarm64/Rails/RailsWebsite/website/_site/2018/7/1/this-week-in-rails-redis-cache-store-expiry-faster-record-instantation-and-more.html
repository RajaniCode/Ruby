<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; Redis cache store expiry, faster record instantation and more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Hey there, detective! Here’s Kasper fumbling through his own trenchcoat for his notebook to give you what went down on the Rails codebase this week." />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="Redis cache store expiry, faster record instantation and more!" />
  <meta property="og:description" content="Hey there, detective! Here’s Kasper fumbling through his own trenchcoat for his notebook to give you what went down on the Rails codebase this week." />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2018/7/1/this-week-in-rails-redis-cache-store-expiry-faster-record-instantation-and-more" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="Redis cache store expiry, faster record instantation and more!" />
  <meta name="twitter:description" content="Hey there, detective! Here’s Kasper fumbling through his own trenchcoat for his notebook to give you what went down on the Rails codebase this week." />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2018/7/1/this-week-in-rails-redis-cache-store-expiry-faster-record-instantation-and-more"
      },
      "name": "Ruby on Rails",
      "headline": "Redis cache store expiry, faster record instantation and more!",
      "description": "Hey there, detective! Here’s Kasper fumbling through his own trenchcoat for his notebook to give you what went down on the Rails codebase this week.",
      "url": "http://localhost:4000/2018/7/1/this-week-in-rails-redis-cache-store-expiry-faster-record-instantation-and-more",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "kaspth"
      },
      "datePublished": "2018-07-01T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Sunday, July 1, 2018</h5>
        <h2>Redis cache store expiry, faster record instantation and more!</h2>

        <h6>Posted by kaspth</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Hey there, detective! Here’s <a href="https://twitter.com/kaspth">Kasper</a> fumbling through his own trenchcoat for his notebook to give you what went down on the <a href="https://github.com/rails/rails">Rails codebase</a> this week.</p>

<h3 id="redis-cache-store-incrementdecrement-expiry"><a href="https://github.com/rails/rails/pull/33254">Redis cache store: increment/decrement expiry</a></h3>

<p>If you’ve been looking to expire a key, either when incrementing or decrementing it, with Rails 5.2s Redis cache store. Just pass _expires_in _to make the key sleep with the fishes.</p>

<h3 id="guides-digging-almost-too-deep"><a href="https://github.com/rails/rails/pull/33244">Guides digging almost too deep</a></h3>

<p>The Rails guides are vast and deep. There’s so many that the digging deeper section almost dug its own grave. But splitting out into another section is a saving grace. Why not look through <a href="http://guides.rubyonrails.org">the current guides</a>?</p>

<h3 id="has_secure_password-takes-an-attribute"><a href="https://github.com/rails/rails/pull/26764">has_secure_password takes an attribute</a></h3>

<p>For many years <em>has_secure_password</em> only allowed a default <em>password</em> attribute. But now you can stash whatever you want in there.</p>

<h3 id="reduce-record-instantiation-allocations"><a href="https://github.com/rails/rails/pull/33223">Reduce record instantiation allocations</a></h3>

<p>Instantiating a list of Active Record objects is now faster and allocates less. If the array has the same instances that is. It’s made possible by not looking up the same STI column each time through the loop. </p>

<h3 id="os-x-ditched-for-macos"><a href="https://github.com/rails/rails/commit/96d2c228e31e5fe9b3159c5c52051c589d3c384f">OS X ditched for macOS</a></h3>

<p>In lighter documentation news the old Mac OS X spelling has been replaced by macOS where applicable.</p>

<h3 id="multiple-exceptions-for-retry_ondiscard_on"><a href="https://github.com/rails/rails/commit/3110caecbebdad7300daaf26bfdff39efda99e25">Multiple exceptions for retry_on/discard_on</a></h3>

<p>Rails 5.1s syntactic sugar for <em>retry_job</em>, <em>retry_on</em> and <em>discard_on</em> that is, only took one exception so you’d have to duplicate exception blocks or spread a retry on multiple lines. No longer! Get your high in a single line of sugar.</p>

<p><a href="http://contributors.rubyonrails.org/contributors/in-time-window/20180624-20180701">20 people</a> contributed to Rails this past week. There might be some <a href="https://github.com/rails/rails/issues">open issues</a> you can try tackling?</p>

<p>See you next week!</p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
