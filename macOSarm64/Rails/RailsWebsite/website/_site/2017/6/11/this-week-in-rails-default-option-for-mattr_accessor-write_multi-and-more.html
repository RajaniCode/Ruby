<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; This Week in Rails: default option for mattr_accessor, write_multi and more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Hello everyone! Prathamesh here bringing you the latest news from the Rails world. Letâ€™s get started ğŸš…" />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="This Week in Rails: default option for mattr_accessor, write_multi and more!" />
  <meta property="og:description" content="Hello everyone! Prathamesh here bringing you the latest news from the Rails world. Letâ€™s get started ğŸš…" />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2017/6/11/this-week-in-rails-default-option-for-mattr_accessor-write_multi-and-more" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="This Week in Rails: default option for mattr_accessor, write_multi and more!" />
  <meta name="twitter:description" content="Hello everyone! Prathamesh here bringing you the latest news from the Rails world. Letâ€™s get started ğŸš…" />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2017/6/11/this-week-in-rails-default-option-for-mattr_accessor-write_multi-and-more"
      },
      "name": "Ruby on Rails",
      "headline": "This Week in Rails: default option for mattr_accessor, write_multi and more!",
      "description": "Hello everyone! Prathamesh here bringing you the latest news from the Rails world. Letâ€™s get started ğŸš…",
      "url": "http://localhost:4000/2017/6/11/this-week-in-rails-default-option-for-mattr_accessor-write_multi-and-more",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "prathamesh"
      },
      "datePublished": "2017-06-11T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Sunday, June 11, 2017</h5>
        <h2>This Week in Rails: default option for mattr_accessor, write_multi and more!</h2>

        <h6>Posted by prathamesh</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Hello everyone! <a href="https://twitter.com/_cha1tanya">Prathamesh</a> here bringing you the latest news from the Rails world. Letâ€™s get started ğŸš…</p>

<h2 id="featured">Featured</h2>

<h3 id="-this-weeks-rails-contributors-"><a href="http://contributors.rubyonrails.org/contributors/in-time-window/20170604-20170611">ğŸ‰ This Weekâ€™s Rails contributors! ğŸ‰</a></h3>

<p>We had 21 awesome people who helped make Rails better this week. Two of them contributed for the first time ever!
Would you like to help as well? Head over to the ğŸ‘‰Â <a href="https://github.com/rails/rails/issues">issues list</a>.</p>

<h2 id="new">New</h2>

<h3 id="-mattr_accessor-gets-the-default-option-"><a href="https://github.com/rails/rails/pull/29294">ğŸ’ª mattr_accessor gets the <code class="language-plaintext highlighter-rouge">default</code> option ğŸ’ª</a></h3>

<p>Followup to adding the <strong>default</strong> option to the <strong>class_attribute</strong> macro, it is now added to <strong>mattr_accessor</strong> family of methods as well.</p>

<p>It can be used as follows:</p>

<p><strong><em>mattr_accessor :always_write_cookie, default: false</em></strong></p>

<h3 id="-write-multiple-cache-entries-at-once-with-write_multi-"><a href="https://github.com/rails/rails/pull/29366">ğŸ’ª Write multiple cache entries at once with write_multi ğŸ’ª</a></h3>

<p>A new method <strong>write_multi</strong> has been added to the cache stores which writes multiple cache entries at once.</p>

<p>For eg.</p>

<p><strong><em>Rails.cache.write_multi foo: â€˜barâ€™, baz: â€˜quxâ€™</em></strong> The default implementation just calls <strong>write_entry</strong> one by one for each entry but specific cache stores can override this behavior as per their ability of doing bulk writes.</p>

<h2 id="fixed">Fixed</h2>

<h3 id="ï¸-generate-field-ids-in-collection_check_boxes-and-collection_radio_buttons-ï¸"><a href="https://github.com/rails/rails/pull/29412">âš¡ï¸ Generate field ids in <code class="language-plaintext highlighter-rouge">collection_check_boxes</code> and <code class="language-plaintext highlighter-rouge">collection_radio_buttons</code> âš¡ï¸</a></h3>

<p>This change fixes an issue with collection checkboxes and radio boxes where clicking on the labels was not selecting the options because the input elements did not have proper id attribute with respect to their labels.</p>

<h3 id="-fix-partial-cache-logging-getting-attributed-to-wrong-partials-"><a href="https://github.com/rails/rails/commit/8240636beda7b2b487217be1d945eb0d36145c4d">âœ¨ Fix partial cache logging getting attributed to wrong partials âœ¨</a></h3>

<p>This commit fixes an issue with the cache hit/miss log markers being applied to wrong partials.</p>

<p>Thatâ€™s it for this week, as always, we couldnâ€™t cover all of the changes, but feel free to check all the <a href="https://github.com/rails/rails/compare/master@%7B2017-06-04%7D...@%7B2017-06-11%7D">commits</a> from this week.</p>

<p>Until next week! ğŸ‘‹ğŸ‘‹</p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
