<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; Allow object_id as a column name for Active Record and a lot more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Take Active Record affixes into account for Active Storage database modelsThis pull request ensures that all Active Storage database-related models adhere to the ActiveRecord::Base.table_name_prefix configuration." />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="Allow object_id as a column name for Active Record and a lot more!" />
  <meta property="og:description" content="Take Active Record affixes into account for Active Storage database modelsThis pull request ensures that all Active Storage database-related models adhere to the ActiveRecord::Base.table_name_prefix configuration." />
  <meta property="og:image" content="http://localhost:4000/assets/images/this-week-in-rails.png" />
  <meta property="og:url" content="http://localhost:4000/2023/12/8/this-week-in-rails-allow-object_id-as-a-column-name-for-activerecord-and-a-lot-more-112f1943" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="Allow object_id as a column name for Active Record and a lot more!" />
  <meta name="twitter:description" content="Take Active Record affixes into account for Active Storage database modelsThis pull request ensures that all Active Storage database-related models adhere to the ActiveRecord::Base.table_name_prefix configuration." />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/this-week-in-rails.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2023/12/8/this-week-in-rails-allow-object_id-as-a-column-name-for-activerecord-and-a-lot-more-112f1943"
      },
      "name": "Ruby on Rails",
      "headline": "Allow object_id as a column name for Active Record and a lot more!",
      "description": "Take Active Record affixes into account for Active Storage database modelsThis pull request ensures that all Active Storage database-related models adhere to the ActiveRecord::Base.table_name_prefix configuration.",
      "url": "http://localhost:4000/2023/12/8/this-week-in-rails-allow-object_id-as-a-column-name-for-activerecord-and-a-lot-more-112f1943",
      "image": "http://localhost:4000/assets/images/this-week-in-rails.png",
      "author": {
        "@type": "Person",
        "name": "Emmanuel Hayford"
      },
      "datePublished": "2023-12-08T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Friday, December 8, 2023</h5>
        <h2>Allow object_id as a column name for Active Record and a lot more!</h2>

        <h6>Posted by Emmanuel Hayford</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p><a href="https://github.com/rails/rails/pull/50167">Take Active Record affixes into account for Active Storage database models</a>
This pull request ensures that all Active Storage database-related models adhere to the <em>ActiveRecord::Base.table_name_prefix</em> configuration.</p>

<p><a href="https://github.com/rails/rails/pull/50247">Make isolated engines aware of Active Record::Base table name prefix</a>
Address isolated engines to incorporate the <em>ActiveRecord::Base.table_name_prefix</em> configuration. This adjustment will enable engine-defined models, including those within Active Storage, to align with the Active Record table name prefix configuration.</p>

<p><a href="https://github.com/rails/rails/pull/50241">Alias field_set_tag helper to fieldset_tag</a>
Rename the <em>field_set_tag</em> helper to <em>fieldset_tag</em> for consistency with the <em>&lt;fieldset&gt;</em> HTML element.</p>

<p><a href="https://github.com/rails/rails/pull/50236">Fix Time.now/DateTime.now/Date.today to return results in a system timezone after #travel_to</a>
Correct <em>Time.now</em>, <em>DateTime.now</em>, and <em>Date.today</em> to produce results in the system timezone after the use of <em>#travel_to</em>.</p>

<p>The current implementation of <em>#travel_to</em> has a bug wherein it retains the timezone of its argument, causing all stubbed methods to return results in that remembered timezone. The intended behavior, however, is to have these methods return results in the system timezone.</p>

<p><a href="https://github.com/rails/rails/pull/50240">Preserve serialized timezone when deserializing with ActiveJob::Serializers::TimeWithZoneSerializer</a>
Retain the serialized timezone information when deserializing arguments of type <em>ActiveSupport::TimeWithZone</em>.</p>

<p><a href="https://github.com/rails/rails/pull/50162">Allow object_id as a column name for Active Record</a>
This pull request now allows you to use <em>object_id</em> as a valid column name for Active Record.</p>

<p><a href="https://github.com/rails/rails/pull/50140">Add a Active Record.protocol_adapters configuration to map DATABASE_URL protocols
</a>When utilizing a <em>DATABASE_URL</em>, introduce a configuration option to associate the protocol specified in the URL with a particular database adapter. This separation allows the application to select an adapter independently from the database connection details configured in the deployment environment.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ENV['DATABASE_URL'] = "mysql://localhost/example_database"
config.active_record.protocol_adapters.mysql = "trilogy"
# will connect to MySQL using the trilogy adapter
</code></pre></div></div>

<p>That brings us to to the end of our weekly Rails codebase updates.</p>

<p>In the last two weeks, we saw <a href="https://contributors.rubyonrails.org/contributors/in-time-window/20231124-20231209">38 contributors</a> grace Railsâ€™ codebase.</p>

<p>Take care,
<a href="https://twitter.com/siaw23">Emmanuel Hayford</a></p>

<p>Your weekly inside scoop of interesting commits, pull requests and more from <a href="https://github.com/rails/rails"><strong>Rails</strong></a>.</p>

<p><i><a href="https://world.hey.com/this.week.in.rails">Subscribe</a> to get these updates mailed to you.</i></p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
