<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; First edition of 2023! 🥂</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Long time no see! 新年明けましておめでとうございます！Zzak here to bring you the first This Week in Rails of.. *almost writes 2022*. 🤣" />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="First edition of 2023! 🥂" />
  <meta property="og:description" content="Long time no see! 新年明けましておめでとうございます！Zzak here to bring you the first This Week in Rails of.. *almost writes 2022*. 🤣" />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2023/1/8/this-week-in-rails-first-edition-of-2023-3b0f1bac" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="First edition of 2023! 🥂" />
  <meta name="twitter:description" content="Long time no see! 新年明けましておめでとうございます！Zzak here to bring you the first This Week in Rails of.. *almost writes 2022*. 🤣" />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2023/1/8/this-week-in-rails-first-edition-of-2023-3b0f1bac"
      },
      "name": "Ruby on Rails",
      "headline": "First edition of 2023! 🥂",
      "description": "Long time no see! 新年明けましておめでとうございます！Zzak here to bring you the first This Week in Rails of.. *almost writes 2022*. 🤣",
      "url": "http://localhost:4000/2023/1/8/this-week-in-rails-first-edition-of-2023-3b0f1bac",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "zzak"
      },
      "datePublished": "2023-01-08T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Sunday, January 8, 2023</h5>
        <h2>First edition of 2023! 🥂</h2>

        <h6>Posted by zzak</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Long time no see! 新年明けましておめでとうございます！<a href="https://github.com/zzak">Zzak</a> here to bring you the first This Week in Rails of.. *almost writes 2022*. 🤣</p>

<p><strong>Spotlight</strong></p>

<p>I want to try something different, there has been one particular person that I feel deserves a Shout Out: <a href="https://github.com/amatsuda">Akira Matsuda</a>. He has contributed <a href="https://contributors.rubyonrails.org/contributors/akira-matsuda/commits/in-time-window/20221225-20230107">40 commits</a> since the last episode..! His focus has been on incremental Rails performance optimizations. I’ve asked him to share how he’s finding all of these bugs, and he’s promised some significant gains in end-to-end benchmarks! 🙏 In return, he has asked me as the Chief Organizer of <a href="https://rubykaigi.org">RubyKaigi</a> to remind you all that their <a href="https://cfp.rubykaigi.org/events/2023">CFP</a> is open until the end of this month, so be sure to submit if you’d like to give a talk this year in Matsumoto, Japan!</p>

<p><a href="https://github.com/rails/rails/pull/46206">Use Karma as the test runner for UJS</a></p>

<p>While this isn’t really user-facing, it is a huge step toward us being able to fully support Rack 3 in Rails.</p>

<p><a href="https://github.com/rails/rails/pull/46838">Use Puma worker count equal to processor count in production</a></p>

<p>This only affects newly generated Rails apps, but sets Puma’s config to equal the total number of physical processors by default. You can always change this to fit your needs.</p>

<p><a href="https://github.com/rails/rails/pull/43487">Raise error on missing only unless for controller callbacks</a></p>

<p>When you specify a filter for a callback in your controller, we can now raise an exception if that action doesn’t exist. While this behavior will default to false, it will be enabled on newly generated Rails apps.</p>

<p><a href="https://github.com/rails/rails/pull/46817">Bump “required_rubygems_version” to 3.3.13 or higher</a></p>

<p>This was necessary in order to support pre-release Ruby versions in the Gemfile template for newly generated Rails apps. However, due to it being such a huge jump please <a href="https://github.com/rails/rails/issues/new">let us know</a> if you notice anything weird!</p>

<p><a href="https://github.com/rails/rails/pull/46611">Able to match exception messages to “assert_raises” assertions</a></p>

<p>While this was initially requested upstream to minitest, it was rejected. Luckily we are able to provide this feature to Rails test assertions from Active Support. Although, I’m definitely an avid “assert_nothing_raised” user 🤣.</p>

<p><a href="https://github.com/rails/rails/pull/46879">Store correct environment in “internal_metadata” when running rails db:prepare</a></p>

<p>This fixes a bug where we lost track of the environment between setting up the database for Rails. Thanks to <a href="https://github.com/JunichiIto">Junichi Ito</a> for reporting <a href="https://github.com/rails/rails/issues/46845">this bug</a>!</p>

<p><a href="https://github.com/rails/rails/pull/46858">Only use HostAuthorization middleware if config.hosts is used</a></p>

<p>This PR removes the middleware stack from every request unless you’ve configured your app for a particular host.</p>

<p><a href="https://github.com/rails/rails/pull/46830">Use precompute optimization for Rails.env.local?</a></p>

<p>Another small optimization this time for the recently added “Rails.env.local?” method. This ensures it will meet the same performance as the other predefined environment predicates, since they return a precomputed instance variable. Now you don’t have to care about calling this method in production, as it’s almost <strong>40%</strong> faster!</p>

<p><strong>There were <a href="https://contributors.rubyonrails.org/contributors/in-time-window/20221230-20230107">29</a> contributors to Rails this week. You can browse all the changes <a href="https://github.com/rails/rails/compare/@%7B2022-12-30%7D...main@%7B2023-01-07%7D">here</a>.</strong></p>

<p>Until next time!</p>

<p><i><a href="https://world.hey.com/this.week.in.rails">Subscribe</a> to get these updates mailed to you.</i></p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
