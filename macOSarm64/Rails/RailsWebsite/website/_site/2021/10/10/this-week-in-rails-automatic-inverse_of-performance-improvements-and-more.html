<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; Automatic inverse_of, performance improvements and more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Hi, this is Greg, bringing you the latest news about Ruby on Rails!" />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="Automatic inverse_of, performance improvements and more!" />
  <meta property="og:description" content="Hi, this is Greg, bringing you the latest news about Ruby on Rails!" />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2021/10/10/this-week-in-rails-automatic-inverse_of-performance-improvements-and-more" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="Automatic inverse_of, performance improvements and more!" />
  <meta name="twitter:description" content="Hi, this is Greg, bringing you the latest news about Ruby on Rails!" />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2021/10/10/this-week-in-rails-automatic-inverse_of-performance-improvements-and-more"
      },
      "name": "Ruby on Rails",
      "headline": "Automatic inverse_of, performance improvements and more!",
      "description": "Hi, this is Greg, bringing you the latest news about Ruby on Rails!",
      "url": "http://localhost:4000/2021/10/10/this-week-in-rails-automatic-inverse_of-performance-improvements-and-more",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "greg"
      },
      "datePublished": "2021-10-10T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Sunday, October 10, 2021</h5>
        <h2>Automatic inverse_of, performance improvements and more!</h2>

        <h6>Posted by greg</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Hi, this is <a href="https://twitter.com/gregmolnar">Greg</a>, bringing you the latest news about Ruby on Rails!</p>

<p>This week we switched our newsletter delivery platform to HEY, if you are reading this email, you already confirmed your subscription and there is no other action needed on your end.</p>

<h3 id="avoid-instance_exec-for-controller-callbacks"><a href="https://github.com/rails/rails/pull/43335">Avoid instance_exec for controller callbacks</a></h3>
<p>This change brings some performance improvements, by avoiding to create the extra controller singleton classes, created by instance_exec, when :only or :except are passed to a callback.</p>

<h3 id="automatically-infer-inverse_of-with-scopes"><a href="https://github.com/rails/rails/pull/43358">Automatically infer inverse_of with scopes</a></h3>
<p>This PR changes can_find_inverse_of_automatically to allow us to automatically detect inverse_of when there is a scope on the association, but not when there is a scope on the potential inverse association.
Since this is a breaking change, it is placed behind the automatic_scope_inversing configuration flag, which is set to true for new applications via framework defaults.</p>

<h3 id="add-ability-to-lazily-load-the-schema-cache-on-connection"><a href="https://github.com/rails/rails/pull/43372">Add ability to lazily load the schema cache on connection</a></h3>
<p>A new a configuration option enables lazy loading of the schema cache on the connection. If config.active_record.lazily_load_schema_cache is set to true then the schema cache will be loaded when the connection is established rather than on boot.</p>

<p><a href="https://contributors.rubyonrails.org/contributors/in-time-window/20210926-20211010">31 people</a> contributed to Rails since last time. All the changes can be checked <a href="https://github.com/rails/rails/compare/@%7B2021-09-26%7D...main@%7B2021-10-10%7D">here</a>. Until next week!</p>


      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
