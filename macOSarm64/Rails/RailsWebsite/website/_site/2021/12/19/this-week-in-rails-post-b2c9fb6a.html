<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; This week in Rails: New releases, bugfixes and more!</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Hi there, it is Greg, bringing you the latest news about Ruby on Rails! We had an exciting week, so let’s get to it." />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="This week in Rails: New releases, bugfixes and more!" />
  <meta property="og:description" content="Hi there, it is Greg, bringing you the latest news about Ruby on Rails! We had an exciting week, so let’s get to it." />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2021/12/19/this-week-in-rails-post-b2c9fb6a" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="This week in Rails: New releases, bugfixes and more!" />
  <meta name="twitter:description" content="Hi there, it is Greg, bringing you the latest news about Ruby on Rails! We had an exciting week, so let’s get to it." />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2021/12/19/this-week-in-rails-post-b2c9fb6a"
      },
      "name": "Ruby on Rails",
      "headline": "This week in Rails: New releases, bugfixes and more!",
      "description": "Hi there, it is Greg, bringing you the latest news about Ruby on Rails! We had an exciting week, so let’s get to it.",
      "url": "http://localhost:4000/2021/12/19/this-week-in-rails-post-b2c9fb6a",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "gregmolnar"
      },
      "datePublished": "2021-12-19T00:00:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Sunday, December 19, 2021</h5>
        <h2>This week in Rails: New releases, bugfixes and more!</h2>

        <h6>Posted by gregmolnar</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>Hi there, it is <a href="https://twitter.com/gregmolnar">Greg</a>, bringing you the latest news about Ruby on Rails! We had an exciting week, so let’s get to it.</p>

<p><a href="https://rubyonrails.org/2021/12/15/Rails-7-fulfilling-a-vision">Rails 7 has been released</a>
There are so many new features, I would rather not list them here, please read the announcement, it has all the details.
As mentioned in the release announcement, there is a new look of the <a href="https://rubyonrails.org/">official Rails website</a> and <a href="https://rubyonrails.org/blog">blog</a>!</p>

<p><a href="https://rubyonrails.org/2021/12/15/Rails-6-0-4-4-and-6-1-4-4-have-been-released">Rails 6.0.4.4, and 6.1.4.4 have been released</a>
This is less fun than the above, since they are security releases to address an <a href="https://discuss.rubyonrails.org/t/possible-open-redirect-in-host-authorization-middleware/79505">Open Redirect vulnerability in the Host Header Authorization Middleware</a>.</p>

<p><a href="https://github.com/rails/rails/pull/43921">Fix dbconsole for 3-tier config</a>
The dbconsole tried to connect for the <em>primary</em> database from the config before, but with a 3-tier config and application might not have one. This PR fixes the issue by changing dbconsole to pick the first database when there is no primary. It also improved the error message when no database is found.</p>

<p><a href="https://github.com/rails/rails/pull/43576">Raise an exception when using unrecognized options in change_table block</a>
This PR raises an exception when the yielded <em>Table</em> inside a <em>change_table</em> block receives a method with the keyword arguments <em>if_exists</em> or <em>if_not_exists</em>. This prevents unexpected behaviour when a <em>change_table</em> block called with the option <em>bulk: true</em> will silently ignore the option, but when called without that option, it will be obeyed.</p>

<p><a href="https://github.com/rails/rails/pull/43882">Allow IPs with port in the HostAuthorization middleware</a>
The <em>IPAddr</em> object comparison failed with a host with an IP address and a port and raised an exception, but this change fixes that by extracting the hostname for the comparison.</p>

<p><a href="https://contributors.rubyonrails.org/contributors/in-time-window/20211211-20211218">35 people</a> contributed to Rails the past week! If you want to check out all of the changes, you can see the <a href="https://github.com/rails/rails/compare/@%7B2021-12-11%7D...main@%7B2021-12-18%7D">here</a>. See you next time!</p>


      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
