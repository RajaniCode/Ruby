<!doctype html>
<html lang="en">








<head>
  <title>Ruby on Rails &mdash; Timing Weakness in Ruby on Rails</title>
  <meta charset="utf-8" />
  <meta content="ie=edge" http-equiv="x-ua-compatible" />
  <meta name="handheldfriendly" content="true" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="There is a weakness in the code Ruby on Rails uses to verify messagedigests in the cookie store.  Because it uses a non-constant time algorithm toverify the signatures an attacker may be able to determine when a forgedsignature is partially correct.  By repeating this process they may be able to successfully forge a digest.Versions Affected:  2.1.0 and *all* subsequent versions.Fixed Versions:     2.3.4, 2.2.3ImpactDue to issues like network latency, non-deterministic GC runs and otherissues it is unlikely that this attack could be exploited in the wildwithin a reasonable timeframe.  However users should still upgrade assoon as possible to remove the weakness.ReleasesThe 2.3.4 and 2.2.3 releases will be made available shortly and will contain fixes for this issue amongst others.PatchesIn order to provide the fixes for users who are running unsupportedreleases, or are unable to upgrade at present we have provided patchesagainst all affected stable release branches.The patches are in a format suitable for git-am and consist a singlechangeset which implements	2-2-timing-weakness.patch &#8211; Patch for 2.2 series	2-3-timing-weakness.patch &#8211; Patch for 2.3 seriesCreditsThanks to Coda Hale for reporting the bug to us, and helping us with the fixes." />

  <meta property="og:site_name" content="Ruby on Rails" />
  <meta property="og:title" content="Timing Weakness in Ruby on Rails" />
  <meta property="og:description" content="There is a weakness in the code Ruby on Rails uses to verify messagedigests in the cookie store.  Because it uses a non-constant time algorithm toverify the signatures an attacker may be able to determine when a forgedsignature is partially correct.  By repeating this process they may be able to successfully forge a digest.Versions Affected:  2.1.0 and *all* subsequent versions.Fixed Versions:     2.3.4, 2.2.3ImpactDue to issues like network latency, non-deterministic GC runs and otherissues it is unlikely that this attack could be exploited in the wildwithin a reasonable timeframe.  However users should still upgrade assoon as possible to remove the weakness.ReleasesThe 2.3.4 and 2.2.3 releases will be made available shortly and will contain fixes for this issue amongst others.PatchesIn order to provide the fixes for users who are running unsupportedreleases, or are unable to upgrade at present we have provided patchesagainst all affected stable release branches.The patches are in a format suitable for git-am and consist a singlechangeset which implements	2-2-timing-weakness.patch &#8211; Patch for 2.2 series	2-3-timing-weakness.patch &#8211; Patch for 2.3 seriesCreditsThanks to Coda Hale for reporting the bug to us, and helping us with the fixes." />
  <meta property="og:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta property="og:url" content="http://localhost:4000/2009/9/4/timing-weakness-in-ruby-on-rails" />
  <meta property="og:type" content="article" />

  <meta name="twitter:title" content="Timing Weakness in Ruby on Rails" />
  <meta name="twitter:description" content="There is a weakness in the code Ruby on Rails uses to verify messagedigests in the cookie store.  Because it uses a non-constant time algorithm toverify the signatures an attacker may be able to determine when a forgedsignature is partially correct.  By repeating this process they may be able to successfully forge a digest.Versions Affected:  2.1.0 and *all* subsequent versions.Fixed Versions:     2.3.4, 2.2.3ImpactDue to issues like network latency, non-deterministic GC runs and otherissues it is unlikely that this attack could be exploited in the wildwithin a reasonable timeframe.  However users should still upgrade assoon as possible to remove the weakness.ReleasesThe 2.3.4 and 2.2.3 releases will be made available shortly and will contain fixes for this issue amongst others.PatchesIn order to provide the fixes for users who are running unsupportedreleases, or are unable to upgrade at present we have provided patchesagainst all affected stable release branches.The patches are in a format suitable for git-am and consist a singlechangeset which implements	2-2-timing-weakness.patch &#8211; Patch for 2.2 series	2-3-timing-weakness.patch &#8211; Patch for 2.3 seriesCreditsThanks to Coda Hale for reporting the bug to us, and helping us with the fixes." />
  <meta name="twitter:image" content="http://localhost:4000/assets/images/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@rails" />
  <meta name="twitter:image:alt" content="Ruby on Rails" />

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/2009/9/4/timing-weakness-in-ruby-on-rails"
      },
      "name": "Ruby on Rails",
      "headline": "Timing Weakness in Ruby on Rails",
      "description": "There is a weakness in the code Ruby on Rails uses to verify messagedigests in the cookie store.  Because it uses a non-constant time algorithm toverify the signatures an attacker may be able to determine when a forgedsignature is partially correct.  By repeating this process they may be able to successfully forge a digest.Versions Affected:  2.1.0 and *all* subsequent versions.Fixed Versions:     2.3.4, 2.2.3ImpactDue to issues like network latency, non-deterministic GC runs and otherissues it is unlikely that this attack could be exploited in the wildwithin a reasonable timeframe.  However users should still upgrade assoon as possible to remove the weakness.ReleasesThe 2.3.4 and 2.2.3 releases will be made available shortly and will contain fixes for this issue amongst others.PatchesIn order to provide the fixes for users who are running unsupportedreleases, or are unable to upgrade at present we have provided patchesagainst all affected stable release branches.The patches are in a format suitable for git-am and consist a singlechangeset which implements	2-2-timing-weakness.patch &#8211; Patch for 2.2 series	2-3-timing-weakness.patch &#8211; Patch for 2.3 seriesCreditsThanks to Coda Hale for reporting the bug to us, and helping us with the fixes.",
      "url": "http://localhost:4000/2009/9/4/timing-weakness-in-ruby-on-rails",
      "image": "http://localhost:4000/assets/images/opengraph.png",
      "author": {
        "@type": "Person",
        "name": "michael"
      },
      "datePublished": "2009-09-04T10:17:00+05:30"
    }
  </script>
  <script defer data-domain="rubyonrails.org" src="https://plausible.io/js/script.js"></script>
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="The official Ruby on Rails blog">
</head>


<body>


<nav class="nav">
  <a class="nav__logo" href="/" aria-label="Ruby on Rails"></a>

  <input class="nav__checkbox" id="nav__checkbox" type="checkbox" role="button" aria-label="menu" />

  <label class="nav__toggle" for="nav__checkbox">
    <span></span>
  </label>

  <div class="nav__options">
    <div>
      <ul>
        
          
            <li><a href="https://github.com/rails/rails"><span>Source</span></a></li>
          
        
          
            <li><a href="/docs"><span>Docs</span></a></li>
          
        
          
            <li><a href="/community"><span>Community</span></a></li>
          
        
          
            <li><a href="/blog"><span>News</span></a></li>
          
        
      </ul>

      <ul>
        
          
            <li><a href="/world"><span>Events</span></a></li>
          
        
          
            <li><a href="https://jobs.rubyonrails.org"><span>Jobs</span></a></li>
          
        
          
            <li><a href="https://merch.rubyonrails.org"><span>Merch</span></a></li>
          
        
          
            <li><a href="/foundation"><span>Foundation</span></a></li>
          
        
      </ul>
    </div>
  </div>
</nav>


<div class="layout">
  <div class="post common-padding--bottom common-padding--top-small">
    <div class="container">
      <div class="post__headline common-headline">
        <h5>Friday, September 4, 2009</h5>
        <h2>Timing Weakness in Ruby on Rails</h2>

        <h6>Posted by michael</h6>

      </div>
      <div class="post__content common-content common-content--post">
        <p>There is a weakness in the code Ruby on Rails uses to verify message<br />
digests in the cookie store.  Because it uses a non-constant time algorithm to<br />
verify the signatures an attacker may be able to determine when a forged<br />
signature is partially correct.  By repeating this process they may be able to successfully forge a digest.</p>
<pre>
Versions Affected:  2.1.0 and *all* subsequent versions.
Fixed Versions:     2.3.4, 2.2.3
</pre>
<h4>Impact</h4>
<p>Due to issues like network latency, non-deterministic GC runs and other<br />
issues it is unlikely that this attack could be exploited in the wild<br />
within a reasonable timeframe.  However users should still upgrade as<br />
soon as possible to remove the weakness.</p>
<h4>Releases</h4>
<p>The 2.3.4 and 2.2.3 releases will be made available shortly and will contain fixes for this issue amongst others.</p>
<h4>Patches</h4>
<p>In order to provide the fixes for users who are running unsupported<br />
releases, or are unable to upgrade at present we have provided patches<br />
against all affected stable release branches.</p>
<p>The patches are in a format suitable for git-am and consist a single<br />
changeset which implements</p>
<ul>
	<li><a href="/assets/2009/9/4/2-2-timing-weakness.patch">2-2-timing-weakness.patch &#8211; Patch for 2.2 series</a></li>
	<li><a href="/assets/2009/9/4/2-3-timing-weakness.patch">2-3-timing-weakness.patch &#8211; Patch for 2.3 series</a></li>
</ul>
<h4>Credits</h4>
<p>Thanks to Coda Hale for reporting the bug to us, and helping us with the fixes.</p>

      </div>
    </div>
  </div>
</div>

<footer class="footer common-background--grey common-padding--bottom common-padding--top common-shape--top-white-up-left">
  <div class="footer__logo"><a href="/" aria-label="Ruby on Rails"></a></div>

  
</footer>

</body>
</html>
